#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cdk = require("aws-cdk-lib");
const cdk_stack_1 = require("../lib/cdk-stack");
const iam_stack_1 = require("../lib/iam-stack");
const dotenv = require("dotenv");
// Load environment variables
dotenv.config();
const app = new cdk.App();
// Try environment variables in order of preference
const env = {
    account: "664418990788",
    region: "us-east-2"
};
// Better error message showing which variables are missing
if (!env.account || !env.region) {
    console.error('Environment Configuration Error:');
    if (!env.account)
        console.error('- AWS_ACCOUNT is not set');
    if (!env.region)
        console.error('- AWS_REGION is not set');
    console.error('\nPlease set these variables in your .env file or configure AWS CLI');
    process.exit(1);
}
// Deploy the S3 stack
new cdk_stack_1.S3Stack(app, 'S3Stack', { env });
// Deploy the IAM stack
new iam_stack_1.IamStack(app, 'IamStack', { env });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG1DQUFtQztBQUNuQyxnREFBMkM7QUFDM0MsZ0RBQTRDO0FBQzVDLGlDQUFpQztBQUVqQyw2QkFBNkI7QUFDN0IsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBRWhCLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBRTFCLG1EQUFtRDtBQUNuRCxNQUFNLEdBQUcsR0FBRztJQUNWLE9BQU8sRUFBRSxjQUFjO0lBQ3ZCLE1BQU0sRUFBQyxXQUFXO0NBQ25CLENBQUM7QUFFRiwyREFBMkQ7QUFDM0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDaEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0lBQ2xELElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTztRQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztJQUM1RCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU07UUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDMUQsT0FBTyxDQUFDLEtBQUssQ0FBQyxxRUFBcUUsQ0FBQyxDQUFDO0lBQ3JGLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEIsQ0FBQztBQUVELHNCQUFzQjtBQUN0QixJQUFJLG1CQUFPLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFFckMsdUJBQXVCO0FBQ3ZCLElBQUksb0JBQVEsQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIiMhL3Vzci9iaW4vZW52IG5vZGVcbmltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgeyBTM1N0YWNrIH0gZnJvbSAnLi4vbGliL2Nkay1zdGFjayc7XG5pbXBvcnQgeyBJYW1TdGFjayB9IGZyb20gJy4uL2xpYi9pYW0tc3RhY2snO1xuaW1wb3J0ICogYXMgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbi8vIExvYWQgZW52aXJvbm1lbnQgdmFyaWFibGVzXG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5cbi8vIFRyeSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgaW4gb3JkZXIgb2YgcHJlZmVyZW5jZVxuY29uc3QgZW52ID0geyBcbiAgYWNjb3VudDogXCI2NjQ0MTg5OTA3ODhcIixcbiAgcmVnaW9uOlwidXMtZWFzdC0yXCIgXG59O1xuXG4vLyBCZXR0ZXIgZXJyb3IgbWVzc2FnZSBzaG93aW5nIHdoaWNoIHZhcmlhYmxlcyBhcmUgbWlzc2luZ1xuaWYgKCFlbnYuYWNjb3VudCB8fCAhZW52LnJlZ2lvbikge1xuICBjb25zb2xlLmVycm9yKCdFbnZpcm9ubWVudCBDb25maWd1cmF0aW9uIEVycm9yOicpO1xuICBpZiAoIWVudi5hY2NvdW50KSBjb25zb2xlLmVycm9yKCctIEFXU19BQ0NPVU5UIGlzIG5vdCBzZXQnKTtcbiAgaWYgKCFlbnYucmVnaW9uKSBjb25zb2xlLmVycm9yKCctIEFXU19SRUdJT04gaXMgbm90IHNldCcpO1xuICBjb25zb2xlLmVycm9yKCdcXG5QbGVhc2Ugc2V0IHRoZXNlIHZhcmlhYmxlcyBpbiB5b3VyIC5lbnYgZmlsZSBvciBjb25maWd1cmUgQVdTIENMSScpO1xuICBwcm9jZXNzLmV4aXQoMSk7XG59XG5cbi8vIERlcGxveSB0aGUgUzMgc3RhY2tcbm5ldyBTM1N0YWNrKGFwcCwgJ1MzU3RhY2snLCB7IGVudiB9KTtcblxuLy8gRGVwbG95IHRoZSBJQU0gc3RhY2tcbm5ldyBJYW1TdGFjayhhcHAsICdJYW1TdGFjaycsIHsgZW52IH0pO1xuIl19